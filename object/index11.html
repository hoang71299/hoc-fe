<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
        font-weight: normal;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  </head>
  <body class="bg-body-secondary">
    <!-- - click submit form thi lấy 2 value trên dua vao objCon, dùng xx và yy làm key cố định
(nhớ kiêm tra xem user va email da nhap chua, chứa thi báo lỗi, ok hết thi đưa vào objCon)
    {
        'xx': 'baovic'
        'yy': 'ac@gmail.com'
    }
sau do dua objCon vao objCha nhu sau và dùng username nhập vào làm key 
{
    'baovic': {
        'xx': 'baovic'
        'yy': 'ac@gmail.com'
    },
} 
=> đưa vào localstrogare giữ lại.

nhap tiep lan 2 thi them vao objcha nhu sau:
{
    'baovic': {
        'xx': 'baovic'
        'yy': 'ac@gmail.com'
    },
    ‘namihuong’: {
        'xx': 'namihuong'
        'yy': 'ac@gmail.com'
    }
} 
=> đưa vào localstrogare giữ lại.

tuong tu lan 3:
{
    'baovic': {
        'xx': 'baovic'
        'yy': 'ac@gmail.com'
    },
    ‘namihuong’: {
        'xx': 'namihuong'
        'yy': 'ac@gmail.com'
    },
    nam: {
        'xx': 'nam'
        'yy': 'ac@gmail.com'
    }
} 
=> đưa vào localstrogare giữ lại, nghĩa là mở trong localstrogare mà ra dc định dạng như trên là ok. -->
    <div class="row d-flex justify-content-center mt-5">
      <div class="col-12 col-sm-10 col-lg-5">
        <div class="card">
          <div class="card-header">
            <h2 class="text-success text-center">Đăng nhập</h2>
          </div>
          <form action="">
            <div class="card-body">
              <div class="mb-3">
                <label for="name" class="mb-2">Username</label>
                <input type="text" id="name" class="form-control" />
                <p id="err_name" class="text-danger fw-bold mt-2"></p>
              </div>
              <div class="mb-3">
                <label for="email" class="mb-2">email</label>
                <input type="text" id="email" class="form-control" />
                <p id="err_email" class="text-danger fw-bold mt-2"></p>
              </div>
            </div>
            <div class="card-footer">
              <button type="submit" class="btn btn-primary">Đăng nhập</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $("form").submit(function (e) {
          e.preventDefault();
          var name = $("#name").val();
          var email = $("#email").val();
          var objCon = {};
          var objCha = {};
          // console.log(name,email);
          if (name == "") {
            $("#err_name").text("vui lòng nhập lại");
          } else {
            $("#err_name").text("");
          }

          if (email == "") {
            $("#err_email").text("vui lòng nhập lại");
          } else {
            $("#err_email").text("");
          }

          if (name != "" && email != "") {
            var objCon = {};
            var objCha = {};
            objCon.xx = name;
            objCon.yy = email;
            var bien = JSON.parse(localStorage.getItem("demo") || "{}");

            // if (bien) {
            //   objCha = bien;
            // } else {
            //   objCha = {};
            // }

            objCha[name] = objCon;
            localStorage.setItem("demo", JSON.stringify(objCha));

            return true;
          }
          //           lấy trc khi set vao local
          // lây ra rồi gán tạm vào biến nào đó
          // sau đo add them cái thứ 2 vào tiêp thi có 2 cái
          // còn lần dầu lây ra mà kiem tra k có thi thô
          // đưa thằng objcon vào objcha va dùng username của nó làm key, thì e lai đi dùng mảng

          return false;
        });
      });
    </script>
  </body>
</html>
